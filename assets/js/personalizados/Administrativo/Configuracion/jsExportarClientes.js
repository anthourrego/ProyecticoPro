var DT;
var config = {data:{
		tblID : "#tblCRUD",
		select: [
			'T.TerceroID', 
			'T.digitverif', 
			'T.tipodocuid', 
			'T.barra', 
			'T.nombre',  
			'T.razonsocia',
			'T.NombrComer',
			'T.nombruno', 
			'T.nombrdos', 
			'T.apelluno', 
			'T.apelldos', 
			'T.email', 
			'T.email2', 
			'T.celular',
			'EC.nombre AS EstadoCivil', 
			'T.sexo', 
			'T.numercredi', 
			'T.direccion', 
			'T.ciudadid', 
			'C.nombre AS Ciudad', 
			'T.barrioid',
			'B.nombre AS Barrio', 
			'T.dptoid', 
			'D.nombre AS Departamento', 
			'T.paisid', 
			'P.nombre AS Pais', 
			'T.zonaid', 
			'Z.nombre AS Zona', 
			'T.telefono',
			'T.direccorre', 
			'T.ciudacorre', 
			'C2.nombre AS CiudadCorre', 
			'T.barricorre', 
			'B2.nombre AS BarrioCorre', 
			'T.dptocorre',
			'D2.nombre AS DptoCorre', 
			'T.paiscorre', 
			'P2.nombre AS PaisCorre', 
			'T.telefcorre', 
			'T.fechanacim', 
			'T.ciudanacim',
			'C3.nombre AS CiudadNacim', 
			'T.profesionid', 
			'PR.nombre AS Profesion', 
			'T.ocupacion', 
			'CT.VendedorId', 
			'V.nombre AS Vendedor', 
			'T.hijos', 
			`(CASE 
				WHEN T.AutorL1581 = '0' THEN 'NO' 
				WHEN T.AutorL1581 = '1' THEN 'SI' 
			END) AS Autoriza`, 
			'T.empresa', 
			'T.direcempre', 
			'T.telefempre', 
			'T.ciudaempre', 
			'C4.nombre AS CiudadEmpresa', 
			'T.barriempre', 
			'B3.nombre AS BarrioEmpresa',
			'T.dptoempre', 
			'T.paisempre', 
			'P3.nombre AS PaisEmpresa', 
			'T.cargoid', 
			'CA.nombre AS Cargo', 
			'T.contacto', 
			'T.tipocontac',
			'T.sectorid', 
			'SE.nombre AS Sector', 
			'T.fechacreac', 
			'T.regimenid', 
			'TR.nombre AS Regimen', 
			'CT.TipoCartId', 
			'TP.nombre AS TipoCartera', 
			'CT.Monto',
			'CT.Dias', 
			'CT.ActividadId', 
			'A.nombre AS Actividad', 
			'CT.TarifICA', 
			'CT.TarifRetIv', 
			'TT.tarifa', 
			'CT.SobreBase', 
			'CT.TipoTercId', 
			'TI.nombre AS TipoTercero', 
			'CT.BloquMonto', 
			'CT.BloquVenci', 
			'CT.BloquPedid', 
			'CT.ClasificId', 
			'CL.Nombre AS Clasificacion', 
			'CT.ListaPrecio', 
			'CT.AlmacenId', 
			'AL.nombre AS Almacen',
			'CT.NoLiquidarIVA',
			'T.RespoFisca',
			'T.Estado'
		],
		table : [
			'Tercero T',
			[
				['EstadoCivil EC', 'T.estadocivilid = EC.estadocivilid', 'LEFT'],
				['Ciudad C', 'T.ciudadid = C.ciudadid', 'LEFT'],
				['Barrio B', 'T.barrioid = B.barrioid', 'LEFT'],
				['Dpto D', 'T.dptoid = D.dptoid', 'LEFT'],
				['Pais P', 'T.paisid = P.paisid', 'LEFT'],
				['Zona Z', 'T.zonaid = Z.zonaid', 'LEFT'],
				['Ciudad C2', 'T.ciudacorre = C2.ciudadid', 'LEFT'],
				['Barrio B2', 'T.barricorre = B2.barrioid', 'LEFT'],
				['Dpto D2', 'T.dptocorre = D2.dptoid', 'LEFT'],
				['Pais P2', 'T.paiscorre = P2.paisid', 'LEFT'],
				['Ciudad C3', 'T.ciudanacim = C3.ciudadid', 'LEFT'],
				['Profesion PR', 'T.profesionid = PR.profesionid', 'LEFT'],
				['Cliente CT', 'T.TerceroID = CT.TerceroId', 'LEFT'],
				['Vendedor V', 'CT.VendedorId = V.vendedorid', 'LEFT'],
				['Ciudad C4', 'T.ciudaempre = C4.ciudadid', 'LEFT'],
				['Barrio B3', 'T.barriempre = B3.barrioid', 'LEFT'],
				['Pais P3', 'T.paisempre = P3.paisid', 'LEFT'],
				['Cargo CA', 'T.cargoid = CA.cargoid', 'LEFT'],
				['Sector SE', 'T.sectorid = SE.sectorid', 'LEFT'],
				['TipoRegi TR', 'T.regimenid = TR.RegimenID', 'LEFT'],
				['TipoCart TP', 'CT.TipoCartId = TP.tipocartid', 'LEFT'],
				['TariRete TT', 'CT.TariReteId = TT.tarireteid', 'LEFT'],
				['Actividad A', 'CT.ActividadId = A.actividadid', 'LEFT'],
				['TipoTerc TI', 'CT.TipoTercId = TI.tipotercid', 'LEFT'],
				['ClasificacionCliente CL', 'CT.ClasificId = CL.idClasificacion', 'LEFT'],
				['Almacen AL', 'CT.AlmacenId = AL.almacenid', 'LEFT']
			],
			[
				['T.EsCliente', 1]
			]
		],
		column_order : [
			'T.TerceroID', 
			'T.digitverif', 
			'T.tipodocuid', 
			'T.barra', 
			'T.nombre',  
			'T.razonsocia',
			'T.NombrComer',
			'T.nombruno', 
			'T.nombrdos', 
			'T.apelluno', 
			'T.apelldos', 
			'T.email', 
			'T.email2', 
			'T.celular',
			'EstadoCivil', 
			'T.sexo', 
			'T.numercredi', 
			'T.direccion', 
			'T.ciudadid', 
			'Ciudad', 
			'T.barrioid',
			'Barrio', 
			'T.dptoid', 
			'Departamento', 
			'T.paisid', 
			'Pais', 
			'T.zonaid', 
			'Zona', 
			'T.telefono',
			'T.direccorre', 
			'T.ciudacorre', 
			'CiudadCorre', 
			'T.barricorre', 
			'BarrioCorre', 
			'T.dptocorre',
			'DptoCorre', 
			'T.paiscorre', 
			'PaisCorre', 
			'T.telefcorre', 
			'T.fechanacim', 
			'T.ciudanacim',
			'CiudadNacim', 
			'T.profesionid', 
			'Profesion', 
			'T.ocupacion', 
			'CT.VendedorId', 
			'Vendedor', 
			'T.hijos', 
			'Autoriza', 
			'T.empresa', 
			'T.direcempre', 
			'T.telefempre', 
			'T.ciudaempre', 
			'CiudadEmpresa', 
			'T.barriempre', 
			'BarrioEmpresa',
			'T.dptoempre', 
			'T.paisempre', 
			'PaisEmpresa', 
			'T.cargoid', 
			'Cargo', 
			'T.contacto', 
			'T.tipocontac',
			'T.sectorid', 
			'Sector', 
			'T.fechacreac', 
			'T.regimenid', 
			'Regimen', 
			'CT.TipoCartId', 
			'TipoCartera', 
			'CT.Monto',
			'CT.Dias', 
			'CT.ActividadId', 
			'Actividad', 
			'CT.TarifICA', 
			'CT.TarifRetIv', 
			'TT.tarifa', 
			'CT.SobreBase', 
			'CT.TipoTercId', 
			'TipoTercero', 
			'CT.BloquMonto', 
			'CT.BloquVenci', 
			'CT.BloquPedid', 
			'CT.ClasificId', 
			'Clasificacion', 
			'CT.ListaPrecio', 
			'CT.AlmacenId', 
			'Almacen',
			'CT.NoLiquidarIVA',
			'T.RespoFisca',
			'T.Estado'
		],
		column_search : ['T.TerceroID','T.nombre','T.NombrComer','T.razonsocia'],
		orden : {"T.TerceroID": 'DESC'},
		columnas : [
			'TerceroID', 
			'digitverif', 
			'tipodocuid', 
			'barra', 
			'nombre',  
			'razonsocia',
			'NombrComer',
			'nombruno', 
			'nombrdos', 
			'apelluno', 
			'apelldos', 
			'email', 
			'email2', 
			'celular',
			'EstadoCivil', 
			'sexo', 
			'numercredi', 
			'direccion', 
			'ciudadid', 
			'Ciudad', 
			'barrioid',
			'Barrio', 
			'dptoid', 
			'Departamento', 
			'paisid', 
			'Pais', 
			'zonaid', 
			'Zona', 
			'telefono',
			'direccorre', 
			'ciudacorre', 
			'CiudadCorre', 
			'barricorre', 
			'BarrioCorre', 
			'dptocorre',
			'DptoCorre', 
			'paiscorre', 
			'PaisCorre', 
			'telefcorre', 
			'fechanacim', 
			'ciudanacim',
			'CiudadNacim', 
			'profesionid', 
			'Profesion', 
			'ocupacion', 
			'VendedorId', 
			'Vendedor', 
			'hijos', 
			'Autoriza', 
			'empresa', 
			'direcempre', 
			'telefempre', 
			'ciudaempre', 
			'CiudadEmpresa', 
			'barriempre', 
			'BarrioEmpresa',
			'dptoempre', 
			'paisempre', 
			'PaisEmpresa', 
			'cargoid', 
			'Cargo', 
			'contacto', 
			'tipocontac',
			'sectorid', 
			'Sector', 
			'fechacreac', 
			'regimenid', 
			'Regimen', 
			'TipoCartId', 
			'TipoCartera', 
			'Monto',
			'Dias', 
			'ActividadId', 
			'Actividad', 
			'TarifICA', 
			'TarifRetIv', 
			'tarifa', 
			'SobreBase', 
			'TipoTercId', 
			'TipoTercero', 
			'BloquMonto', 
			'BloquVenci', 
			'BloquPedid', 
			'ClasificId', 
			'Clasificacion', 
			'ListaPrecio', 
			'AlmacenId', 
			'Almacen',
			'NoLiquidarIVA',
			'RespoFisca',
			'Estado'
		]
	},
	processing: true,
	serverSide: true,
	order: [[0, 'DESC']],
	draw: 10,
	language,
	fixedColumns: true,
	pageLength: 10,
	buttons: [
		{ extend: 'copy', className: 'copyButton', text: 'Copiar', exportOptions: {columns: ':not(:first-child)'}, title: 'Residente - ' + $TITULO },
		{ extend: 'csv', className: 'csvButton', text: 'CSV', exportOptions: {columns: ':not(:first-child)'}, title: 'Residente - ' + $TITULO },
		{ extend: 'excel', action: newExportAction, text: 'Excel', exportOptions: {columns: ':not(:first-child)'}, title: 'Residente - ' + $TITULO },
		{ extend: 'pdf', className: 'pdfButton', tex: 'PDF', exportOptions: {columns: ':not(:first-child)'}, title: 'Residente - ' + $TITULO },
		{ extend: 'print', className: 'printButton', text: 'Imprimir', exportOptions: {columns: ':not(:first-child)', title: 'Residente - ' + $TITULO} }
	],
	initComplete: function(){
		$('div.dataTables_filter input').unbind();
		$("div.dataTables_filter input").keyup( function (e) {
			e.preventDefault();
			if (e.keyCode == 13) {
				table = $("body").find("#tblCRUD").dataTable();
				table.fnFilter( this.value );
			}
		} );
		$('div.dataTables_filter input').focus();
	},
	deferRender: true,
	scrollX: '100%',
	scrollY: $(document).height() - 350,
	scroller: {
		loadingIndicator: true
	},
	scrollCollapse: false,
	dom: domBftri,
	columnDefs:[
		// {visible: false, targets:[0, -1]}
		// ,{width: '125', targets:[3,4,6]}
		// ,{width: '1%', targets:[1,2,7]}
	],
}

$(document).ready(function(){
	DT = dtSS(config);
});